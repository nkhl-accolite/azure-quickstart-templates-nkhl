{
    "$schema": "https://schema.management.azure.com/schemas/0.1.2-preview/CreateUIDefinition.MultiVm.json#",
    "handler": "Microsoft.Azure.CreateUIDef",
    "version": "0.1.2-preview",
    "parameters": {
        "basics": [
            {
                "name": "stackName",
                "type": "Microsoft.Common.TextBox",
                "label": "Stack Name",
                "toolTip": "String used as a base for naming resources. Must be 3-61 characters in length and globally unique across Azure. A hash is prepended to this string for some resources, and resource-specific information is appended. Some identifiers use precisely 9 characters from this name and so it can be useful to use exactly 9. The template pads it out or truncates it as necessary to make it 9 characters long where required.",
                "constraints": {
                    "required": true,
                    "regex": "^([a-zA-z-]{3,61})$",
                    "validationMessage": "Only alphabets and hyphen are allowed, and the value must be 3-61 characters long."
                }
            },
            {
                "name": "lansaVersion",
                "type": "Microsoft.Common.DropDown",
                "label": "LANSA Version",
                "toolTip": "Visual LANSA Version",
                "defaultValue": "V15 GA",
                "constraints": {
                    "required": true,
                    "allowedValues":[
                        {
                            "label": "V15 GA",
                            "value": "V15 GA"
                        },
                        {
                            "label": "V14 SP2",
                            "value": "V14 SP2"
                        }
                    ]
                }
            },
            {
                "name": "msiURLV15",
                "type": "Microsoft.Common.TextBox",
                "label": "MSI URL",
                "toolTip": "URL of the LANSA MSI which will be installed on each virtual machine.",
                "defaultValue": "https://lansalpcmsdn.blob.core.windows.net/app/test/AWAMAPP_v15.0.0_en-us.msi",
                "constraints": {
                    "required": true,
                    "regex": "^(?!\\s*$).+",
                    "validationMessage": "The value must not be empty."
                },
                "visible": "[equals(basics('lansaVersion'), 'V15 GA')]"
            },
            {
                "name": "msiURLV14",
                "type": "Microsoft.Common.TextBox",
                "label": "MSI URL",
                "toolTip": "URL of the LANSA MSI which will be installed on each virtual machine.",
                "defaultValue": "https://lansalpcmsdn.blob.core.windows.net/app/test/AWAMAPP_v14.2.20715_en-us.msi",
                "constraints": {
                    "required": true,
                    "regex": "^(?!\\s*$).+",
                    "validationMessage": "The value must not be empty."
                },
                "visible": "[equals(basics('lansaVersion'), 'V14 SP2')]"
            },
            {
                "name": "osName",
                "type": "Microsoft.Common.DropDown",
                "label": "OS Name",
                "toolTip": "Choose the Windows Server image version to use",
                "defaultValue": "Windows Server 2019",
                "constraints": {
                    "required": true,
                    "allowedValues":[
                        {
                            "label": "Windows Server 2019",
                            "value": "Windows Server 2019"
                        },
                        {
                            "label": "Windows Server 2016",
                            "value": "Windows Server 2016"
                        },
                        {
                            "label": "Windows Server 2012",
                            "value": "Windows Server 2012"
                        }
                    ]
                }
            },
            {
                "name": "virtualMachineSize",
                "type": "Microsoft.Compute.SizeSelector",
                "label": "App Virtual machine size",
                "toolTip": "The size of virtual machine to provision.",
                "recommendedSizes": [
                    "Standard_B4ms"
                ],
                "imageReference": {
                    "publisher": "lansa",
                    "offer": "lansa-scalable-license",
                    "sku": "lansa-scalable-license-14-2"
                },
                "count": "[int(basics('minimumInstanceCount'))]",
                "osPlatform": "Windows"
            },
            {
                "name": "dbVirtualMachineSize",
                "type": "Microsoft.Compute.SizeSelector",
                "label": "DB Admin Virtual machine size",
                "toolTip": "Size of the Virtual Machine which manages the database.",
                "recommendedSizes": [
                    "Standard_B2ms"
                ],
                "imageReference": {
                    "publisher": "lansa",
                    "offer": "lansa-scalable-license",
                    "sku": "lansa-scalable-license-14-2"
                },
                "count": 1,
                "osPlatform": "Windows"
            },
            {
                "name": "minimumInstanceCount",
                "type": "Microsoft.Common.TextBox",
                "label": "Minimum Instance Count",
                "toolTip": "Minimum number of Virtual Machine instances (1 to 600).",
                "defaultValue": "[int('1')]",
                "constraints": {
                    "required": true,
                    "regex": "^[1-9][0-9]?$|^[1-5][0-9][0-9]?$|^600$",
                    "validationMessage": "Only numerals are allowed. The value must be from 1-600."
                }
            },
            {
                "name": "maximumInstanceCount",
                "type": "Microsoft.Common.TextBox",
                "label": "Maximum Instance Count",
                "toolTip": "Maximum number of Virtual Machine instances (1 to 600).",
                "defaultValue": "[int('100')]",
                "constraints": {
                    "required": true,
                    "regex": "^[1-9][0-9]?$|^[1-5][0-9][0-9]?$|^600$",
                    "validationMessage": "Only numerals are allowed. The value must be from 1-600."
                }
            },
            {
                "name": "webServerMaxConnect",
                "type": "Microsoft.Common.TextBox",
                "label": "Web Server Max Connect",
                "toolTip": "The maximum number of LANSA jobs to run on each Web Server. Setting triggerWebConfig will cause this value to be updated.",
                "defaultValue": "20",
                "constraints": {
                    "required": true,
                    "regex": "^[0-9]+$",
                    "validationMessage": "Numeric field."
                }
            }
        ],
        "steps": [
            {
                "name": "SecurityConfig",
                "label": "Security",
                "subLabel": {
                    "preValidation": "Configurations regarding credentials",
                    "postValidation": "Done"
                },
                "bladeTitle": "Security",
                "elements": [
                    {
                        "name": "certificateBase64Encoded",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Certificate Base64Encoded",
                        "toolTip": "Base 64 encoded String representing the SSL certificate",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "certificatePassword",
                        "type": "Microsoft.Common.PasswordBox",
                        "label": {
                            "password" : "Certificate Password",
                            "confirmPassword": "Confirm Certificate Password"
                        },
                        "toolTip": "SSL certificate password",
                        "options": {
                            "hideConfirmation": false
                        },
                        "constraints": {
                            "required": true
                        }
                    },
                    {
                        "name": "adminUsername",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Admin Username",
                        "toolTip": "Admin username on all VMs",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "adminPassword",
                        "type": "Microsoft.Common.PasswordBox",
                        "label": {
                            "password" : "Admin Password",
                            "confirmPassword": "Confirm Admin Password"
                        },
                        "toolTip": "Admin password on all VMs",
                        "options": {
                            "hideConfirmation": false
                        },
                        "constraints": {
                            "required": true,
                            "regex": "^((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&*]).{12,255})$",
                            "validationMessage": "Password length should be 12-255 characters long, and have at least one number, one lower case, one upper case and one special character"
                        }
                    },
                    {
                        "name": "webUsername",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Web Username",
                        "toolTip": "Web Server username on all VMs. This should be different from Admin Username",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "webPassword",
                        "type": "Microsoft.Common.PasswordBox",
                        "label": {
                            "password" : "Web Password",
                            "confirmPassword": "Confirm Web Password"
                        },
                        "toolTip": "Web Server password on all VMs",
                        "options": {
                            "hideConfirmation": false
                        },
                        "constraints": {
                            "required": true,
                            "regex": "^((?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[!@#$%&*]).{12,255})$",
                            "validationMessage": "Password length should be 12-255 characters long, and have at least one number, one lower case, one upper case and one special character"
                        }
                    }
                ]
            },
            {
                "name": "DatabaseConfig",
                "label": "Database",
                "subLabel": {
                    "preValidation": "Configure the database resources and settings",
                    "postValidation": "Done"
                },
                "bladeTitle": "Database",
                "elements": [
                    {
                        "name": "databaseNewOrExisting",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Database New/Existing",
                        "toolTip": "Determines whether a new SQL database should be provisioned or to use an existing database.",
                        "defaultValue": "new",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "new",
                                    "value": "new"
                                },
                                {
                                    "label": "existing",
                                    "value": "existing"
                                }
                            ]
                        }
                    },
                    {
                        "name": "databaseType",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Database Type",
                        "toolTip": "Refer to LANSA documentation for an explanation of each Database Type and the supported versions of the database servers.",
                        "defaultValue": "Azure SQL Database",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "SQL Server",
                                    "value": "MSSQLS"
                                },
                                {
                                    "label": "Azure SQL Database",
                                    "value": "SQLAZURE"
                                },
                                {
                                    "label": "MySQL",
                                    "value": "MYSQL"
                                }
                            ]
                        },
                        "visible": "[equals(steps('DatabaseConfig').databaseNewOrExisting, 'existing')]"
                    },
                    {
                        "name": "databaseServerName",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Database Server Name",
                        "toolTip": "The name of the existing Database Server to connect to. If the name has /MSSQLSERVER appended, omit it.",
                        "defaultValue": "lansa",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        },
                        "visible": "[equals(steps('DatabaseConfig').databaseNewOrExisting, 'existing')]"
                    },
                    {
                        "name": "databaseName",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Database Name",
                        "toolTip": "The name of the new database to create or name of the existing database to connect to.",
                        "defaultValue": "lansa",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        },
                        "visible": "[equals(steps('DatabaseConfig').databaseNewOrExisting, 'existing')]"
                    },
                    {
                        "name": "collation",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Collation",
                        "toolTip": "The new database collation for governing the proper use of characters.",
                        "defaultValue": "SQL_Latin1_General_CP1_CI_AS",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        },
                        "visible": "[equals(steps('DatabaseConfig').databaseNewOrExisting, 'new')]"
                    },
                    {
                        "name": "edition",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Edition",
                        "toolTip": "The type of database to create.",
                        "defaultValue": "Standard",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "Basic",
                                    "value": "Basic"
                                },
                                {
                                    "label": "Standard",
                                    "value": "Standard"
                                },
                                {
                                    "label": "Premium",
                                    "value": "Premium"
                                }
                            ]
                        },
                        "visible": "[equals(steps('DatabaseConfig').databaseNewOrExisting, 'new')]"
                    },
                    {
                        "name": "requestedServiceObjectiveNameBasic",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Requested Service Objective Name",
                        "toolTip": "Describes the performance level for Edition",
                        "defaultValue": "Basic",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "Basic",
                                    "value": "Basic"
                                }
                            ]
                        },
                        "visible": "[and(equals(steps('DatabaseConfig').edition, 'Basic'), equals(steps('DatabaseConfig').databaseNewOrExisting, 'new'))]"
                    },
                    {
                        "name": "requestedServiceObjectiveNameStandard",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Requested Service Objective Name",
                        "toolTip": "Describes the performance level for Edition",
                        "defaultValue": "S2",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "S0",
                                    "value": "S0"
                                },
                                {
                                    "label": "S1",
                                    "value": "S1"
                                },
                                {
                                    "label": "S2",
                                    "value": "S2"
                                },
                                {
                                    "label": "S3",
                                    "value": "S3"
                                },
                                {
                                    "label": "S4",
                                    "value": "S4"
                                },
                                {
                                    "label": "S6",
                                    "value": "S6"
                                },
                                {
                                    "label": "S7",
                                    "value": "S7"
                                },
                                {
                                    "label": "S9",
                                    "value": "S9"
                                },
                                {
                                    "label": "S12",
                                    "value": "S12"
                                }
                            ]
                        },
                        "visible": "[and(equals(steps('DatabaseConfig').edition, 'Standard'), equals(steps('DatabaseConfig').databaseNewOrExisting, 'new'))]"
                    },
                    {
                        "name": "requestedServiceObjectiveNamePremium",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Requested Service Objective Name",
                        "toolTip": "Describes the performance level for Edition",
                        "defaultValue": "P2",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "P1",
                                    "value": "P1"
                                },
                                {
                                    "label": "P2",
                                    "value": "P2"
                                },
                                {
                                    "label": "P4",
                                    "value": "P4"
                                },
                                {
                                    "label": "P6",
                                    "value": "P6"
                                },
                                {
                                    "label": "P11",
                                    "value": "P11"
                                },
                                {
                                    "label": "P15",
                                    "value": "P15"
                                }
                            ]
                        },
                        "visible": "[and(equals(steps('DatabaseConfig').edition, 'Premium'), equals(steps('DatabaseConfig').databaseNewOrExisting, 'new'))]"
                    },
                    {
                        "name": "maxSizeBytes",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Max Size Bytes",
                        "toolTip": "The maximum size, in bytes, for the new database",
                        "defaultValue": "1073741824",
                        "constraints": {
                            "required": true,
                            "regex": "^[0-9]+$",
                            "validationMessage": "Numeric field."
                        },
                        "visible": "[equals(steps('DatabaseConfig').databaseNewOrExisting, 'new')]"
                    },
                    {
                        "name": "databaseLogin",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Database Login",
                        "toolTip": "The admin user of the Database",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "databaseLoginPassword",
                        "type": "Microsoft.Common.PasswordBox",
                        "label": {
                            "password" : "Database Password",
                            "confirmPassword": "Confirm Database Password"
                        },
                        "toolTip": "The password of the admin user of the Database",
                        "options": {
                            "hideConfirmation": false
                        },
                        "constraints": {
                            "required": true
                        }
                    }
                ]
            },
            {
                "name": "applicationGatewayConfig",
                "label": "Application Gateway",
                "subLabel": {
                    "preValidation": "Configure the application gateway resources and settings",
                    "postValidation": "Done"
                },
                "bladeTitle": "Application Gateway",
                "elements": [
                    {
                        "name": "applicationGatewaySkuTier",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Application Gateway SKU Tier",
                        "toolTip": "Application Gateway SKU Tier",
                        "defaultValue": "Standard",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "Standard",
                                    "value": "Standard"
                                },
                                {
                                    "label": "WAF",
                                    "value": "WAF"
                                }
                            ]
                        }
                    },
                    {
                        "name": "applicationGatewaySkuNameStandard",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Application Gateway SKU Name",
                        "toolTip": "Application Gateway SKU Name",
                        "defaultValue": "Standard Medium",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "Standard Small",
                                    "value": "Standard_Small"
                                },
                                {
                                    "label": "Standard Medium",
                                    "value": "Standard_Medium"
                                },{
                                    "label": "Standard Large",
                                    "value": "Standard_Large"
                                }
                            ]
                        },
                        "visible": "[equals(steps('applicationGatewayConfig').applicationGatewaySkuTier, 'Standard')]"
                    },
                    {
                        "name": "applicationGatewaySkuNameWAF",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Application Gateway SKU Name",
                        "toolTip": "Application Gateway SKU Name",
                        "defaultValue": "WAF Medium",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "WAF Medium",
                                    "value": "WAF_Medium"
                                },{
                                    "label": "WAF Large",
                                    "value": "WAF_Large"
                                }
                            ]
                        },
                        "visible": "[equals(steps('applicationGatewayConfig').applicationGatewaySkuTier, 'WAF')]"
                    },
                    {
                        "name": "applicationGatewayCapacity",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Application Gateway Capacity",
                        "toolTip": "Number of Application Gateway instances",
                        "defaultValue": "[int('2')]",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "ipaddressNewOrExisting",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Application Gateway PublicIPAddress New/Existing",
                        "toolTip": "Determines whether an existing IPAddress is to be used or should provide a new IP Address",
                        "defaultValue": "new",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "new",
                                    "value": "new"
                                },
                                {
                                    "label": "existing",
                                    "value": "existing"
                                }
                            ]
                        }
                    },
                    {
                        "name": "ipaddressname",
                        "type": "Microsoft.Common.TextBox",
                        "label": "IP Address Name",
                        "toolTip": "Determines the name of the IP Address",
                        "constraints":{
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        },
                        "visible": "[equals(steps('applicationGatewayConfig').ipaddressNewOrExisting, 'existing')]"
                    },
                    {
                        "name": "ipaddress",
                        "type": "Microsoft.Common.TextBox",
                        "label": "AG Public IPAddress",
                        "toolTip": "Value of the IP Address",
                        "constraints":{
                            "required": true,
                            "regex":"^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$",
                            "validationMessage": "The value must not be empty."
                        },
                        "visible": "[equals(steps('applicationGatewayConfig').ipaddressNewOrExisting, 'existing')]"
                    },
                    {
                        "name":"domain",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Domain",
                        "toolTip": "Domain",
                        "constraints": {
                            "required": true,
                            "regex": "^((?!-)[A-Za-z0-9-]{1, 63}(?<!-)\\.)+[A-Za-z]{2, 6}$",
                            "validationMessage": "The value must not be empty."
                        },
                        "visible": "[equals(steps('applicationGatewayConfig').ipaddressNewOrExisting, 'existing')]"
                    }
                ]
            },
            {
                "name": "InstallationOptionsConfig",
                "label": "Installation Options",
                "subLabel": {
                    "preValidation": "Configure the installation options",
                    "postValidation": "Done"
                },
                "bladeTitle": "Installation Options",
                "elements": [
                    {
                        "name": "installMSI",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Install MSI",
                        "toolTip": "Install the MSI: Set this to 1 to execute an MSI install. Usually set to 0 when updating the stack",
                        "defaultValue": "0",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "updateMSI",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Update MSI",
                        "toolTip": "Update Stack: Set this to 1 to execute an MSI Upgrade. Obtains the specified MSI and installs it. Ensure the LansaMSI parameter is set correctly. If the LansaMSI parameter is not different a repair will be performed",
                        "defaultValue": "0",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "uninstallMSI",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Uninstall MSI",
                        "toolTip": "Uninstall the MSI: Set this to 1 to uninstall the MSI. The MSI used to uninstall, is the last one that was installed. It is called c:\\lansa\\MyApp.msi",
                        "defaultValue": "0",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "triggerWebConfig",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Trigger Web Config",
                        "toolTip": "Update Stack: Set this to 1 to update the web configuration",
                        "defaultValue": "0",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "gitBranch",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Git Branch",
                        "toolTip": "Git Branch",
                        "defaultValue": "support/scalable",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    },
                    {
                        "name": "trace",
                        "type": "Microsoft.Common.DropDown",
                        "label": "Trace",
                        "toolTip": "Switch tracing on. Allowed values Y or N",
                        "defaultValue": "No",
                        "constraints": {
                            "required": true,
                            "allowedValues":[
                                {
                                    "label": "Yes",
                                    "value": "Y"
                                },
                                {
                                    "label": "No",
                                    "value": "N"
                                }
                            ]
                        }
                    },
                    {
                        "name": "fixLicense",
                        "type": "Microsoft.Common.TextBox",
                        "label": "Fix License",
                        "toolTip": "Re-run licensing. It is unlikely that this parameter needs to be used",
                        "defaultValue": "0",
                        "constraints": {
                            "required": true,
                            "regex": "^(?!\\s*$).+",
                            "validationMessage": "The value must not be empty."
                        }
                    }
                ]
            }
        ],
        "outputs": {
            "location": "[location()]",
            "stackName": "[basics('stackName')]",
            "lansaVersion": "[basics('lansaVersion')]",
            "msiURL": "[coalesce(basics('msiURLV14'), basics('msiURLV15'))]",
            "osName": "[basics('osName')]",
            "virtualMachineSize": "[basics('virtualMachineSize')]",
            "dbVirtualMachineSize": "[basics('dbVirtualMachineSize')]",
            "minimumInstanceCount": "[int(basics('minimumInstanceCount'))]",
            "maximumInstanceCount": "[int(basics('maximumInstanceCount'))]",
            "webServerMaxConnect": "[basics('webServerMaxConnect')]",
            "certificateBase64Encoded": "[steps('SecurityConfig').certificateBase64Encoded]",
            "certificatePassword": "[steps('SecurityConfig').certificatePassword]",
            "adminUsername": "[steps('SecurityConfig').adminUsername]",
            "adminPassword": "[steps('SecurityConfig').adminPassword]",
            "webUsername": "[steps('SecurityConfig').webUsername]",
            "webPassword": "[steps('SecurityConfig').webPassword]",
            "databaseNewOrExisting": "[steps('DatabaseConfig').databaseNewOrExisting]",
            "databaseType": "[steps('DatabaseConfig').databaseType]",
            "databaseServerName": "[steps('DatabaseConfig').databaseServerName]",
            "databaseName": "[steps('DatabaseConfig').databaseName]",
            "collation": "[steps('DatabaseConfig').collation]",
            "edition": "[steps('DatabaseConfig').edition]",
            "requestedServiceObjectiveName": "[coalesce(steps('DatabaseConfig').requestedServiceObjectiveNameBasic, steps('DatabaseConfig').requestedServiceObjectiveNameStandard, steps('DatabaseConfig').requestedServiceObjectiveNamePremium)]",
            "maxSizeBytes": "[steps('DatabaseConfig').maxSizeBytes]",
            "databaseLogin": "[steps('DatabaseConfig').databaseLogin]",
            "databaseLoginPassword": "[steps('DatabaseConfig').databaseLoginPassword]",
            "applicationGatewaySkuTier": "[steps('applicationGatewayConfig').applicationGatewaySkuTier]",
            "applicationGatewaySkuName": "[coalesce(steps('applicationGatewayConfig').applicationGatewaySkuNameStandard, steps('applicationGatewayConfig').applicationGatewaySkuNameWAF)]",
            "applicationGatewayCapacity": "[int(steps('applicationGatewayConfig').applicationGatewayCapacity)]",
            "ipaddressNewOrExisting":"[steps('applicationGatewayConfig').ipaddressNewOrExisting]",
            "ipaddress":"[steps('applicationGatewayConfig').ipaddress]",
            "ipaddressname":"[steps('applicationGatewayConfig').ipaddressname]",
            "domain":"[steps('applicationGatewayConfig').domain]",
            "installMSI": "[steps('InstallationOptionsConfig').installMSI]",
            "updateMSI": "[steps('InstallationOptionsConfig').updateMSI]",
            "uninstallMSI": "[steps('InstallationOptionsConfig').uninstallMSI]",
            "triggerWebConfig": "[steps('InstallationOptionsConfig').triggerWebConfig]",
            "gitBranch": "[steps('InstallationOptionsConfig').gitBranch]",
            "trace": "[steps('InstallationOptionsConfig').trace]",
            "fixLicense": "[steps('InstallationOptionsConfig').fixLicense]"
        }
    }
}
